<ion-content [fullscreen]="true" class="bg-white">
  <ng-container *ngIf="viewModel$ | async as vm">
    <app-topbar
      [logoSrc]="vm.institutionLogo"
      [avatarSrc]="null"
      [userInitials]="vm.initials"
      (avatarClicked)="goToProfile()"
    ></app-topbar>

    <div class="px-4 py-3 space-y-4">
      <ng-container *ngIf="vm.courses.length; else emptyState">
        <ng-container *ngFor="let course of vm.courses">
          <app-course-card
            [emoji]="course.badge"
            [title]="course.title"
            [description]="course.description"
            [professor]="course.subtitle"
            [period]="course.period"
            [color]="course.color"
            [thumbnailSrc]="course.logo"
            (pressed)="onOpenCourse(course)"
          ></app-course-card>

        </ng-container>
      </ng-container>

      <ng-template #emptyState>
        <div class="rounded-2xl border border-dashed border-brand-100 bg-white p-6 text-center text-sm text-brand-700">
          Aún no tienes cursos asignados. Cuando un administrador te matricule en un curso, aparecerá aquí.
        </div>
      </ng-template>
    </div>
  </ng-container>
</ion-content>
