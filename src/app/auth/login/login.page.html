<ion-content [fullscreen]="true" [scrollY]="false" class="bg-white">
  <!-- Wrapper centers content; simplified to Tailwind defaults -->
  <div class="relative mx-auto flex h-full w-full items-center justify-center px-4 py-8 sm:px-6">
    <!-- Decorative shapes only on larger screens to avoid mobile clutter -->
    <div class="pointer-events-none absolute inset-0 -z-10 hidden overflow-hidden sm:block">
      <div
        class="absolute -top-[12vw] -right-[10vw] size-[40vw] rounded-full border-2 border-brand-50 sm:top-[-6rem] sm:right-[-5rem] sm:size-64 md:size-72 lg:size-80"></div>
      <div
        class="absolute -bottom-[10vw] -left-[10vw] size-[32vw] rotate-12 border-2 border-brand-100 sm:bottom-[-6rem] sm:left-[-6rem] sm:size-56 md:size-64"></div>
    </div>

    <div class="w-full max-w-sm rounded-2xl bg-white p-4 sm:p-6">
      <div class="mb-6 text-center sm:mb-8">
        <app-text-title i18n="@@login-title" [text]="'Inicia Sesión'"></app-text-title>
        <p class="mt-2 text-sm font-medium leading-snug text-neutral-800/80 sm:text-base">
          ¡Bienvenido de nuevo! Te hemos extrañado.
        </p>
      </div>

      <form class="space-y-4" (ngSubmit)="onLogin()">
        <div class="space-y-3 -mx-4 sm:mx-0">
          <!-- Email -->
          <app-form-input
            name="email"
            type="email"
            placeholder="Email"
            icon="mail-outline"
            autocomplete="email"
            [required]="true"
            [(ngModel)]="email"></app-form-input>

          <!-- Password -->
          <app-form-input
            name="password"
            type="password"
            placeholder="Password"
            icon="lock-closed-outline"
            autocomplete="current-password"
            [required]="true"
            [(ngModel)]="password"></app-form-input>
        </div>

        <div class="text-right">
          <button
            type="button"
            class="text-sm font-semibold hover:underline"
            style="color: var(--color-primary)"
            (click)="goToChangePassword()"
          >
            ¿Olvidaste tu contraseña?
          </button>
        </div>

        <!-- Actions -->
        <div class="grid gap-4 pt-1">
          <app-themed-button
            type="button"
            variant="primary"
            [disabled]="isLoading"
            (clicked)="onLogin()">
            <ng-container *ngIf="!isLoading; else loadingTpl">Iniciar sesión</ng-container>
          </app-themed-button>
          <app-themed-button type="button" variant="secondary" (clicked)="goToRegister()">
            Crear cuenta
          </app-themed-button>
        </div>

        <p *ngIf="errorMessage" class="text-center text-sm text-red-500">{{ errorMessage }}</p>

        <ng-template #loadingTpl>
          <span class="flex items-center justify-center gap-2">
            <ion-spinner name="crescent"></ion-spinner>
            Procesando...
          </span>
        </ng-template>

        <!-- Divider and Socials (temporalmente deshabilitado a petición del cliente) -->
        <!--
        <div class="mt-8 space-y-4">
          <div class="text-center text-sm font-semibold text-primary">O continúa con</div>
          <div class="flex items-center justify-center gap-3">
            <app-themed-button
              variant="social"
              [iconOnly]="true"
              iconName="assets/icon/google-icon.svg"></app-themed-button>
            <app-themed-button
              variant="social"
              [iconOnly]="true"
              iconName="assets/icon/apple.svg"></app-themed-button>
          </div>
        </div>
        -->
      </form>
    </div>
  </div>
</ion-content>
